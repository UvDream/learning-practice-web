<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>流程图</title>
</head>
<style>
    canvas{
        outline: 1px solid red;
    }
</style>
<body>
    <div class="canvas">
        <canvas id="canvas" width="520" height="250"></canvas>
    </div>
</body>
<script src="./grid.js"></script>
<script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    drawGrid('gray', 10, 10, ctx);
    //    第一个框
    drawText(20,100,80,40,'#008ec6','发起申请',35,125,'white',false);
    //    第二个框
    drawText(220,100,80,40,'orange','委办局审批',230,125,'white',false);
    //    第三个框
    drawText(420,100,80,40,'black','智慧报告',435,125,'black',true);

    // 文字,外框x,外框y,填充色,颜色,文字,文字x,文字y,文字颜色,镂空


    //    绘制横向第一条线条
    drawLine(100,120,220,120,'#008ec6');

    //    绘制竖向第一条直线
    ctx.beginPath();
    ctx.strokeStyle='orange';
    ctx.lineWidth='4';
    ctx.moveTo(60,100);
    ctx.lineTo(60,60);
    ctx.lineTo(260,60);
    ctx.lineTo(260,100);
    ctx.stroke();
    //第一个小框
    drawText(140,110,40,20,'#008ec6','通过',148,125,'white',false);
    drawText(140,50,40,20,'orange','驳回',148,65,'white',false);


    //    绘制横向第二条直线
    drawLine(300,120,420,120,'gray');
    //    绘制横向第二条直线
    ctx.beginPath();
    ctx.strokeStyle='gray';
    ctx.lineWidth='4';
    ctx.moveTo(260,60);
    ctx.lineTo(460,60);
    ctx.lineTo(460,100);
    ctx.stroke();
    drawText(340,110,40,20,'gray','通过',348,125,'white',false);
    drawText(340,50,40,20,'gray','驳回',348,65,'white',false);
    function drawLine(x,y,x1,y1,color){
        ctx.beginPath();
        ctx.strokeStyle=color;
        ctx.lineWidth='4';
        ctx.moveTo(x,y);
        ctx.lineTo(x1,y1);
        ctx.stroke();
    }
    //绘制框体函数
    function drawText(x,y,width,height,fcolor,text,tx,ty,tcolor,empty){
        ctx.fillStyle=fcolor;
        ctx.fillRect(x,y,width,height);
        if(empty){
            ctx.clearRect(x+1, y+1, width-2, height-2);
        }
        ctx.fillStyle=tcolor;
        ctx.font="12px bold 黑体";
        ctx.fillText(text,tx, ty);
    }



</script>

</html>